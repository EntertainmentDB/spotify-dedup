(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[6],{"+XKJ":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("1OyB"),a=n("vuIU"),s=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"needsCheckForDuplicates",value:function(t){if("snapshot_id"in t)try{if("v1"===localStorage.getItem(t.snapshot_id))return!1}catch(e){return!0}return!0}},{key:"storePlaylistWithoutDuplicates",value:function(t){if("snapshot_id"in t)try{localStorage.setItem(t.snapshot_id,"v1")}catch(e){}}}]),t}()},Bw4M:function(t,e,n){"use strict";var r=n("pRtw");e.a={obtainToken:function(t){return new Promise((function(e,n){var a=null,s=null;window.addEventListener("message",(function t(i){clearInterval(s),i.origin===r.a.host?(null!==a&&(a.close(),a=null),window.removeEventListener("message",t,!1),e(i.data)):n({message:"Origin ".concat(i.origin," does not match ").concat(r.a.host)})}),!1);var i=screen.width/2-200,o=screen.height/2-300,c={client_id:r.a.clientId,redirect_uri:r.a.redirectUri,response_type:"token"};t.scopes&&(c.scope=t.scopes.join(" ")),a=window.open("https://accounts.spotify.com/authorize?".concat(function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(t[n])));return e.join("&")}(c)),"Spotify","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=".concat(400,", height=").concat(600,", top=").concat(o,", left=").concat(i)),s=setInterval((function(){null!==a&&a.closed&&(clearInterval(s),n({message:"access_denied"}))}),1e3)}))}}},FDXN:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("o0o1"),a=n.n(r),s=n("HaE+"),i=n("O7Jr"),o=function(){var t=Object(s.a)(a.a.mark((function t(e,n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.a)(e,e.getUserPlaylists(n,{limit:50}));case 2:return r=t.sent,t.abrupt("return",r.reduce((function(t,e){return t.concat(e.items.filter((function(t){return t&&t.owner.id===n})))}),[]));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},"HaE+":function(t,e,n){"use strict";function r(t,e,n,r,a,s,i){try{var o=t[s](i),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(r,a)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(a,s){var i=t.apply(e,n);function o(t){r(i,a,s,o,c,"next",t)}function c(t){r(i,a,s,o,c,"throw",t)}o(void 0)}))}}n.d(e,"a",(function(){return a}))},KQm4:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(e,"a",(function(){return a}))},NpLB:function(t,e,n){"use strict";var r=n("MX0m"),a=n.n(r),s=n("q1tI"),i=n.n(s),o=n("9Koi"),c=i.a.createElement;e.a=function(){var t=Object(o.a)(),e=t.t;t.i18n;return c("div",{className:"jsx-3019620225"},c("p",{className:"jsx-3019620225 header"},e("reviews.title")),c("ul",{className:"jsx-3019620225 quotes"},c("li",{className:"jsx-3019620225"},c("blockquote",{className:"jsx-3019620225"},"Removing my duplicates from a 4000+ song playlist in seconds \u2013"," ",c("a",{href:"https://www.buymeacoffee.com/jmp",className:"jsx-3019620225"},"Katie"))),c("li",{className:"jsx-3019620225"},c("blockquote",{className:"jsx-3019620225"},"Mate, this is a legendary tool. Keep up the great coding. \u2013"," ",c("a",{href:"https://www.buymeacoffee.com/jmp",className:"jsx-3019620225"},"Peter James"))),c("li",{className:"jsx-3019620225"},c("blockquote",{className:"jsx-3019620225"},"Great tool. You saved me some hours of manual dedup. Thank you! \u2013"," ",c("a",{href:"https://www.buymeacoffee.com/jmp",className:"jsx-3019620225"},"Katie"))),c("li",{className:"jsx-3019620225"},c("blockquote",{className:"jsx-3019620225"},"I just discovered your @Spotify dedup web app \u2227 it is awesome!!! Recommend to all #Spotify users! \u2013"," ",c("a",{href:"https://twitter.com/VanKenton",className:"jsx-3019620225"},"@VanKenton"))),c("li",{className:"jsx-3019620225"},c("blockquote",{className:"jsx-3019620225"},"@jmperezperez I've been using your spotify dedup code for years. Today, I finally decided to check out your other stuff. Amazing! I can't believe it took me this long to discover it \u2013"," ",c("a",{href:"https://twitter.com/wormx",className:"jsx-3019620225"},"@wormx"))),c("li",{className:"jsx-3019620225"},c("blockquote",{className:"jsx-3019620225"},"Thanks for the Spotify De-Dup! Very helpful and extremely easy to use. \u2013 ",c("a",{href:"https://www.buymeacoffee.com/jmp",className:"jsx-3019620225"},"PTR")))),c(a.a,{id:"3019620225"},[".header.jsx-3019620225{font-weight:bold;font-size:2rem;margin-top:2rem;line-height:1.1;text-align:center;}",".quotes.jsx-3019620225{list-style:none;}","ul.jsx-3019620225{padding:0;}","blockquote.jsx-3019620225{background:var(--card-bg-color);border-left:10px solid var(--accent-color);margin:1.5em 10px;padding:0.5em 10px;}","blockquote.jsx-3019620225 p.jsx-3019620225{display:inline;}"]))}},O7Jr:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("o0o1"),a=n.n(r),s=n("HaE+");function i(t){return-1!==t.indexOf("?")?t.substr(0,t.indexOf("?")):t}function o(t,e,n,r){return c.apply(this,arguments)}function c(){return(c=Object(s.a)(a.a.mark((function t(e,n,r,s){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.getGeneric("".concat(i(n),"?offset=").concat(r,"&limit=").concat(s)));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function u(t,e,n,r){return l.apply(this,arguments)}function l(){return(l=Object(s.a)(a.a.mark((function t(e,n,r,s){var i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=null,t.prev=1,t.next=4,o(e,n,r,s);case 4:i=t.sent,t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.error("Error making request to fetch tracks from ".concat(n," with offset ").concat(r," and limit ").concat(s),t.t0),i={items:new Array(s).fill(null),href:n,offset:r,limit:s,next:null,previous:null,total:null};case 11:return t.abrupt("return",i);case 12:case"end":return t.stop()}}),t,null,[[1,7]])})))).apply(this,arguments)}function p(t,e){return f.apply(this,arguments)}function f(){return(f=Object(s.a)(a.a.mark((function t(e,n){var r,s,i,o,c,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:if(null!==(r=t.sent)){t.next=5;break}return t.abrupt("return",[]);case 5:if(s=r.limit,i=r.total,o=r.offset,c=r.href,0!==i){t.next=8;break}return t.abrupt("return",Promise.resolve([]));case 8:return l=new Array(Math.ceil((i-s-o)/s)).fill("").reduce((function(t,n,r){return t.push((function(){return u(e,c,s+o+r*s,s)})),t}),[function(){return n}]),t.abrupt("return",l.reduce((function(t,e){return t.then((function(t){return e().then(Array.prototype.concat.bind(t)).catch((function(t){console.error("There was an error reducing promises",t)}))})).catch((function(t){console.error("There was an error reducing promises - general catch",t)}))}),Promise.resolve([])));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},TVZH:function(t,e,n){"use strict";var r=n("MX0m"),a=n.n(r),s=n("q1tI"),i=n.n(s),o=n("9Koi"),c=i.a.createElement;e.a=function(){var t=Object(o.a)(),e=t.t;t.i18n;return c("div",{className:"jsx-3584565376 row marketing cols-3"},c("div",{className:"jsx-3584565376"},c("h4",{className:"jsx-3584565376"},e("features.find-remove.header")),c("p",{dangerouslySetInnerHTML:{__html:e("features.find-remove.body",{strongOpen:"<strong>",strongClose:"</strong>"})},className:"jsx-3584565376"})),c("div",{className:"jsx-3584565376"},c("h4",{className:"jsx-3584565376"},e("features.safer.header")),c("p",{dangerouslySetInnerHTML:{__html:e("features.safer.body",{strongOpen:"<strong>",strongClose:"</strong>"})},className:"jsx-3584565376"})),c("div",{className:"jsx-3584565376"},c("h4",{className:"jsx-3584565376"},e("features.open-source.header")),c("p",{dangerouslySetInnerHTML:{__html:e("features.open-source.body",{linkGithubOpen:'<strong><a href="https://github.com/JMPerez/spotify-dedup/">',linkGithubClose:"</a></strong>",linkWebApiOpen:'<a href="https://developer.spotify.com/web-api/">',linkWebApiClose:"</a>"})},className:"jsx-3584565376"})),c(a.a,{id:"3584565376"},[".row.jsx-3584565376{margin-right:-15px;margin-left:-15px;}",".marketing.jsx-3584565376{padding-left:15px;padding-right:15px;}",".row.jsx-3584565376:after,.row.jsx-3584565376:before{display:table;content:' ';}",".row.jsx-3584565376:after{clear:both;}","h4.jsx-3584565376{font-size:18px;line-height:1.1;margin-top:10px;margin-bottom:10px;}",".cols-3.jsx-3584565376>div.jsx-3584565376{-webkit-flex:1;-ms-flex:1;flex:1;padding-right:15px;padding-left:15px;padding-bottom:4px;}","@media (min-width:768px){.cols-3.jsx-3584565376{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}}"]))}},YFqc:function(t,e,n){t.exports=n("cTJO")},Zqry:function(t,e,n){"use strict";(function(t){var r=n("MX0m"),a=n.n(r),s=n("q1tI"),i=n.n(s),o=n("9Koi"),c=i.a.createElement;e.a=function(){var e=Object(o.a)(),n=e.t;e.i18n;return c("div",{style:{paddingTop:"1em"},className:"jsx-1772495215"},c("a",{target:"_blank",href:"https://www.buymeacoffee.com/jmp",onClick:function(){t.fbq&&t.fbq("track","InitiateCheckout"),t.ga&&t.ga("send","event","spotify-dedup","bmc-clicked")},className:"jsx-1772495215 bmc-button"},c("img",{src:"https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg",width:"25",height:"35",alt:"",className:"jsx-1772495215"}),c("span",{style:{marginLeft:"5px"},className:"jsx-1772495215"},n("bmc.button"))),c(a.a,{id:"1772495215"},[".bmc-button.jsx-1772495215{line-height:36px;height:37px;-webkit-text-decoration:none;text-decoration:none;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;color:#fff;background-color:#ff813f;border-radius:3px;border:1px solid transparent;padding:0 9px;}"]))}}).call(this,n("yLpj"))},aIN1:function(t,e,n){"use strict";var r=n("MX0m"),a=n.n(r),s=n("q1tI"),i=n.n(s),o=n("9Koi"),c=i.a.createElement;e.a=function(){var t=Object(o.a)().t;return c("div",{className:"jsx-2215195854 footer"},c("p",{className:"jsx-2215195854"},c("span",{dangerouslySetInnerHTML:{__html:t("footer.author",{linkOpen:'<a target="_blank" rel="noopener" href="https://jmperezperez.com">',linkClose:"</a>"})},className:"jsx-2215195854"})," ","\xb7"," ",c("span",{dangerouslySetInnerHTML:{__html:t("footer.github",{linkOpen:'<a target="_blank" rel="noopener" href="https://github.com/JMPerez/spotify-dedup/">',linkClose:"</a>"})},className:"jsx-2215195854"}),"\xb7"," ",c("span",{dangerouslySetInnerHTML:{__html:t("footer.bmc",{linkOpen:'<a target="_blank" rel="noopener" href="https://www.buymeacoffee.com/jmp">',linkClose:"</a>"})},className:"jsx-2215195854"})),c(a.a,{id:"2215195854"},[".footer.jsx-2215195854{padding-top:15px;padding-left:15px;padding-right:15px;color:var(--secondary-text-color);text-align:center;}","span.jsx-2215195854{white-space:nowrap;}"]))}},cTJO:function(t,e,n){"use strict";var r=n("J4zp"),a=n("284h");e.__esModule=!0,e.default=void 0;var s,i=a(n("q1tI")),o=n("elyg"),c=n("nOHt"),u=new Map,l=window.IntersectionObserver,p={};var f=function(t,e){var n=s||(l?s=new l((function(t){t.forEach((function(t){if(u.has(t.target)){var e=u.get(t.target);(t.isIntersecting||t.intersectionRatio>0)&&(s.unobserve(t.target),u.delete(t.target),e())}}))}),{rootMargin:"200px"}):void 0);return n?(n.observe(t),u.set(t,e),function(){try{n.unobserve(t)}catch(e){console.error(e)}u.delete(t)}):function(){}};function d(t,e,n,r){(0,o.isLocalURL)(e)&&(t.prefetch(e,n,r).catch((function(t){0})),p[e+"%"+n]=!0)}var h=function(t){var e=!1!==t.prefetch,n=i.default.useState(),a=r(n,2),s=a[0],u=a[1],h=(0,c.useRouter)(),m=h&&h.pathname||"/",v=i.default.useMemo((function(){var e=(0,o.resolveHref)(m,t.href,!0),n=r(e,2),a=n[0],s=n[1];return{href:a,as:t.as?(0,o.resolveHref)(m,t.as):s||a}}),[m,t.href,t.as]),b=v.href,y=v.as;i.default.useEffect((function(){if(e&&l&&s&&s.tagName&&(0,o.isLocalURL)(b)&&!p[b+"%"+y])return f(s,(function(){d(h,b,y)}))}),[e,s,b,y,h]);var g=t.children,x=t.replace,j=t.shallow,k=t.scroll;"string"===typeof g&&(g=i.default.createElement("a",null,g));var w=i.Children.only(g),O={ref:function(t){t&&u(t),w&&"object"===typeof w&&w.ref&&("function"===typeof w.ref?w.ref(t):"object"===typeof w.ref&&(w.ref.current=t))},onClick:function(t){w.props&&"function"===typeof w.props.onClick&&w.props.onClick(t),t.defaultPrevented||function(t,e,n,r,a,s,i){("A"!==t.currentTarget.nodeName||!function(t){var e=t.currentTarget.target;return e&&"_self"!==e||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which}(t)&&(0,o.isLocalURL)(n))&&(t.preventDefault(),null==i&&(i=r.indexOf("#")<0),e[a?"replace":"push"](n,r,{shallow:s}).then((function(t){t&&i&&(window.scrollTo(0,0),document.body.focus())})))}(t,h,b,y,x,j,k)}};return e&&(O.onMouseEnter=function(t){(0,o.isLocalURL)(b)&&(w.props&&"function"===typeof w.props.onMouseEnter&&w.props.onMouseEnter(t),d(h,b,y,{priority:!0}))}),(t.passHref||"a"===w.type&&!("href"in w.props))&&(O.href=(0,o.addBasePath)(y)),i.default.cloneElement(w,O)};e.default=h},"d2/T":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("J4zp"),a=n.n(r),s=n("QILm"),i=n.n(s),o=n("9Koi");function c(t){var e=t.ns,n=t.children,r=i()(t,["ns","children"]),s=Object(o.a)(e,r),c=a()(s,3),u=c[0],l=c[1],p=c[2];return n(u,{i18n:l,lng:l.language},p)}},h1zM:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return M}));var r=n("o0o1"),a=n.n(r),s=n("KQm4"),i=n("HaE+"),o=n("1OyB"),c=n("vuIU"),u=n("JX7q"),l=n("Ji7U"),p=n("md7G"),f=n("foSv"),d=n("rePB"),h=n("MX0m"),m=n.n(h),v=n("q1tI"),b=n.n(v),y=n("9Koi"),g=n("d2/T"),x=n("kbSg"),j=n("uu8g"),k=n("VR2L"),w=n("Zqry"),O=n("6iOu"),N=n("13Bm"),T=n("x77s"),I=b.a.createElement;function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var E=function(t){var e=t.toProcess,n=Object(y.a)().t;return I("span",{className:"jsx-462225262"},I("h3",{className:"jsx-462225262"},n(e>0||null===e?"process.status.finding":"process.status.complete")),I(m.a,{id:"462225262"},["h3.jsx-462225262{font-size:24px;}"]))},M=function(e){Object(l.a)(r,e);var n=_(r);function r(){var e;Object(o.a)(this,r);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return e=n.call.apply(n,[this].concat(l)),Object(d.a)(Object(u.a)(e),"state",{toProcess:null,playlists:[],savedTracks:{status:null,duplicates:[]}}),Object(d.a)(Object(u.a)(e),"removeDuplicates",(function(n){Object(i.a)(a.a.mark((function r(){var i,o,c;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=e.state.playlists.findIndex((function(t){return t.playlist.id===n.playlist.id})),"starred"===(o=e.state.playlists[i]).playlist.id&&t.alert&&t.alert("It is not possible to delete duplicates from your Starred playlist using this tool since this is not supported in the Spotify Web API. You will need to remove these manually."),!o.playlist.collaborative){r.next=7;break}t.alert&&t.alert("It is not possible to delete duplicates from a collaborative playlist using this tool since this is not supported in the Spotify Web API. You will need to remove these manually."),r.next=20;break;case 7:return r.prev=7,r.next=10,j.a.removeDuplicates(e.props.api,o);case 10:(c=Object(s.a)(e.state.playlists))[i].duplicates=[],c[i].status="process.items.removed",e.setState(P(P({},e.state),{},{playlists:Object(s.a)(c)})),t.ga&&t.ga("send","event","spotify-dedup","playlist-removed-duplicates"),r.next=20;break;case 17:r.prev=17,r.t0=r.catch(7),t.Raven&&t.Raven.captureMessage("Exception trying to remove duplicates from playlist",{extra:{duplicates:o.duplicates}});case 20:case"end":return r.stop()}}),r,null,[[7,17]])})))()})),e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){var t=this,e=new x.a;e.on("updateState",(function(e){t.setState(e)})),e.process(this.props.api,this.props.user)}},{key:"removeDuplicatesInSavedTracks",value:function(){var e=this;Object(i.a)(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j.b.removeDuplicates(e.props.api,e.state.savedTracks);case 2:e.setState(P(P({},e.state),{},{savedTracks:{duplicates:[],status:"process.items.removed"}})),t.ga&&t.ga("send","event","spotify-dedup","saved-tracks-removed-duplicates");case 4:case"end":return n.stop()}}),n)})))()}},{key:"render",value:function(){var t=this,e=0===this.state.playlists.length?0:this.state.playlists.reduce((function(t,e){return t+e.duplicates.length}),0)+this.state.savedTracks.duplicates.length;return I("div",{className:"jsx-734384382"},I(E,{toProcess:this.state.toProcess}),I(O.a,null,null===this.state.toProcess&&I(g.a,null,(function(t){return t("process.reading-library")})),this.state.toProcess>0&&I(g.a,null,(function(e){return e("process.processing",{count:t.state.toProcess})})),0===this.state.toProcess&&e>0&&I("span",{className:"jsx-734384382"},I(g.a,null,(function(t){return t("process.status.complete.body")}))," ",I(g.a,null,(function(t){return I("span",{dangerouslySetInnerHTML:{__html:t("process.status.complete.dups.body",{strongOpen:"<strong>",strongClose:"</strong>"})},className:"jsx-734384382"})})),I(w.a,null)),0===this.state.toProcess&&0===e&&I("span",{className:"jsx-734384382"},I(g.a,null,(function(t){return t("process.status.complete.body")})),I("br",{className:"jsx-734384382"}),I(g.a,null,(function(t){return t("process.status.complete.nodups.body")})),I(w.a,null))),I("ul",{className:"jsx-734384382 playlists-list"},(this.state.savedTracks.duplicates.length||this.state.savedTracks.status)&&I("li",{className:"jsx-734384382 playlists-list-item media"},I("div",{className:"jsx-734384382 img"},I("img",{width:"100",height:"100",src:"./placeholder.png",className:"jsx-734384382 playlists-list-item__img"})),I("div",{className:"jsx-734384382 bd"},I("span",{className:"jsx-734384382 playlists-list-item__name"},I(g.a,null,(function(t){return t("process.saved.title")}))),this.state.savedTracks.status&&I(k.a,null,I(g.a,null,(function(e){return e(t.state.savedTracks.status)}))),0!=this.state.savedTracks.duplicates.length&&I("span",{className:"jsx-734384382"},I("span",{className:"jsx-734384382"},I(g.a,null,(function(e){return e("process.saved.duplicates",{count:t.state.savedTracks.duplicates.length})}))),I("button",{onClick:function(){return t.removeDuplicatesInSavedTracks()},className:"jsx-734384382 btn btn-primary btn-sm playlist-list-item__btn"},I(g.a,null,(function(t){return t("process.saved.remove-button")}))),I(N.a,null,this.state.savedTracks.duplicates.map((function(t,e){return I(T.a,{key:e,reason:t.reason,trackName:t.track.name,trackArtistName:t.track.artists[0].name})})))))),this.state.playlists.filter((function(t){return t.duplicates.length||""!=t.status})).map((function(e,n){return I("li",{key:n,className:"jsx-734384382 playlists-list-item media"},I("div",{className:"jsx-734384382 img"},I("img",{width:"100",height:"100",src:e.playlist.images&&e.playlist.images[0]&&e.playlist.images[0].url,className:"jsx-734384382 playlists-list-item__img"})),I("div",{className:"jsx-734384382 bd"},I("span",{className:"jsx-734384382 playlists-list-item__name"},e.playlist.name),e.status&&I(k.a,null,I(g.a,null,(function(t){return t(e.status)}))),0!=e.duplicates.length&&I("span",{className:"jsx-734384382"},I("span",{className:"jsx-734384382"},I(g.a,null,(function(t){return t("process.playlist.duplicates",{count:e.duplicates.length})}))),I("button",{onClick:function(){return t.removeDuplicates(e)},className:"jsx-734384382 btn btn-primary btn-sm playlist-list-item__btn"},I(g.a,null,(function(t){return t("process.playlist.remove-button")}))),I(N.a,null,e.duplicates.map((function(t,e){return I(T.a,{key:e,reason:t.reason,trackName:t.track.name,trackArtistName:t.track.artists[0].name})}))))))}))),I(m.a,{id:"734384382"},[".bd.jsx-734384382{position:relative;}",".media.jsx-734384382,.bd.jsx-734384382{overflow:hidden;_overflow:visible;zoom:1;}",".media.jsx-734384382 .img.jsx-734384382{float:left;margin-right:20px;}","img.jsx-734384382{vertical-align:middle;}",".playlists-list-item.jsx-734384382{margin-bottom:2rem;}",".playlists-list-item__img.jsx-734384382{width:100px;}",".btn.jsx-734384382{background-image:none;border:1px solid transparent;border-radius:4px;cursor:pointer;display:inline-block;font-size:14px;font-weight:400;line-height:1.428571429;margin-bottom:0;padding:6px 12px;text-align:center;vertical-align:middle;white-space:nowrap;}",".btn-primary.jsx-734384382{background-color:#428bca;border-color:#357ebd;color:#fff;}",".btn-primary.jsx-734384382:hover{background-color:#5094ce;}",".playlist-list-item__btn.jsx-734384382{max-width:50%;position:absolute;right:0;top:0;}","@media (max-width:700px){.playlist-list-item__btn.jsx-734384382{max-width:100%;position:relative;}}",".playlists-list-item__name.jsx-734384382{display:block;font-weight:bold;max-width:50%;}","ul.jsx-734384382{padding:0;}"]))}}]),r}(b.a.Component)}).call(this,n("yLpj"))},kbSg:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return h}));var r=n("o0o1"),a=n.n(r),s=n("HaE+"),i=n("1OyB"),o=n("vuIU"),c=n("rePB"),u=n("FDXN"),l=n("uu8g");function p(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){o=!0,s=t},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw s}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var d=new(n("+XKJ").a),h=function(){function e(){var n=this;Object(i.a)(this,e),Object(c.a)(this,"listeners",void 0),Object(c.a)(this,"process",function(){var e=Object(s.a)(a.a.mark((function e(r,s){var i,o,c,f,h,m,v,b,y,g;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(e){e.processed=!0;var n=i.toProcess-1;i.toProcess-=1,0===n&&(t.ga&&t.ga("send","event","spotify-dedup","library-processed"),t.fbq&&t.fbq("trackCustom","dedup-library-processed")),o("updateState",i)},i={},o=n.dispatch.bind(n),f=[],e.next=6,Object(u.a)(r,s.id).catch((function(e){t.ga&&t.ga("send","event","spotify-dedup","error-fetching-user-playlists"),console.error("There was an error fetching user's playlists",e)}));case 6:if(!(h=e.sent)){e.next=51;break}return f=h,i.playlists=f.map((function(t){return{playlist:t,duplicates:[],status:"",processed:!1}})),i.toProcess=i.playlists.length+1,i.savedTracks={},e.next=14,l.b.getTracks(r,r.getMySavedTracks({limit:50}));case 14:m=e.sent,i.savedTracks.duplicates=l.b.findDuplicatedTracks(m),i.savedTracks.duplicates.length&&t.ga&&t.ga("send","event","spotify-dedup","saved-tracks-found-duplicates"),i.toProcess--,n.dispatch("updateState",i),v=p(i.playlists),e.prev=20,v.s();case 22:if((b=v.n()).done){e.next=43;break}if(y=b.value,!d.needsCheckForDuplicates(y.playlist)){e.next=40;break}return e.prev=25,e.next=28,l.a.getTracks(r,y.playlist);case 28:g=e.sent,y.duplicates=l.a.findDuplicatedTracks(g),0===y.duplicates.length&&d.storePlaylistWithoutDuplicates(y.playlist),c(y),e.next=38;break;case 34:e.prev=34,e.t0=e.catch(25),console.error("There was an error fetching tracks for playlist",y.playlist,e.t0),c(y);case 38:e.next=41;break;case 40:c(y);case 41:e.next=22;break;case 43:e.next=48;break;case 45:e.prev=45,e.t1=e.catch(20),v.e(e.t1);case 48:return e.prev=48,v.f(),e.finish(48);case 51:case"end":return e.stop()}}),e,null,[[20,45,48,51],[25,34]])})));return function(t,n){return e.apply(this,arguments)}}()),this.listeners={}}return Object(o.a)(e,[{key:"on",value:function(t,e){this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e)}},{key:"dispatch",value:function(t,e){this.listeners[t].forEach((function(t){return t(e)}))}}]),e}()}).call(this,n("yLpj"))},oeBT:function(t,e,n){"use strict";var r=n("MX0m"),a=n.n(r),s=n("q1tI"),i=n.n(s),o=n("YFqc"),c=n.n(o),u=i.a.createElement;e.a=function(){return u("div",{className:"jsx-3805464941 footer"},u("p",{className:"jsx-3805464941"},"Change language to"," ",u(c.a,{prefetch:!1,href:"/de/"},u("a",{className:"jsx-3805464941"},"German")),","," ",u(c.a,{prefetch:!1,href:"/"},u("a",{className:"jsx-3805464941"},"English")),","," ",u(c.a,{prefetch:!1,href:"/es/"},u("a",{className:"jsx-3805464941"},"Spanish")),","," ",u(c.a,{prefetch:!1,href:"/fr/"},u("a",{className:"jsx-3805464941"},"French")),","," ",u(c.a,{prefetch:!1,href:"/it/"},u("a",{className:"jsx-3805464941"},"Italian")),","," ",u(c.a,{prefetch:!1,href:"/nl/"},u("a",{className:"jsx-3805464941"},"Dutch")),","," ",u(c.a,{prefetch:!1,href:"/pt/"},u("a",{className:"jsx-3805464941"},"Portuguese")),","," ",u(c.a,{prefetch:!1,href:"/sv/"},u("a",{className:"jsx-3805464941"},"Swedish"))),u(a.a,{id:"3805464941"},[".footer.jsx-3805464941{color:var(--secondary-text-color);padding-top:15px;padding-left:15px;padding-right:15px;text-align:center;}"]))}},pRtw:function(t,e,n){"use strict";(function(t){var n="location"in t&&"localhost:3000"===t.location.host?"http://localhost:3000/callback":"https://spotify-dedup.com/callback/",r=/http[s]?:\/\/[^/]+/.exec(n)[0];e.a={clientId:"04dca0de1c4e4aca88cc615ac23581be",redirectUri:n,host:r}}).call(this,n("yLpj"))},teNT:function(t,e,n){"use strict";var r=n("MX0m"),a=n.n(r),s=n("q1tI"),i=n.n(s),o=n("9Koi"),c=i.a.createElement;e.a=function(t){var e=Object(o.a)(),n=e.t;e.i18n;return c("div",{className:"jsx-2789539311"},c("div",{className:"jsx-2789539311 jumbotron"},c("h1",{className:"jsx-2789539311"},n("home.title")),c("p",{className:"jsx-2789539311 lead"},n("home.description")),c("p",{className:"jsx-2789539311"},c("button",{onClick:t.onLoginClick,className:"jsx-2789539311 btn btn-jumbotron btn-success"},c("svg",{xmlns:"http://www.w3.org/2000/svg",height:"168",width:"168",style:{width:"26px",height:"26px",marginRight:"10px",verticalAlign:"-6px"},className:"jsx-2789539311"},c("g",{transform:"scale(0.15)",className:"jsx-2789539311"},c("path",{fill:"#ffffff",d:"M83.996.277C37.747.277.253 37.77.253 84.019c0 46.251 37.494 83.741 83.743 83.741 46.254 0 83.744-37.49 83.744-83.741 0-46.246-37.49-83.738-83.745-83.738l.001-.004zm38.404 120.78a5.217 5.217 0 0 1-7.18 1.73c-19.662-12.01-44.414-14.73-73.564-8.07a5.222 5.222 0 0 1-6.249-3.93 5.213 5.213 0 0 1 3.926-6.25c31.9-7.291 59.263-4.15 81.337 9.34 2.46 1.51 3.24 4.72 1.73 7.18zm10.25-22.805c-1.89 3.075-5.91 4.045-8.98 2.155-22.51-13.839-56.823-17.846-83.448-9.764-3.453 1.043-7.1-.903-8.148-4.35a6.538 6.538 0 0 1 4.354-8.143c30.413-9.228 68.222-4.758 94.072 11.127 3.07 1.89 4.04 5.91 2.15 8.976v-.001zm.88-23.744c-26.99-16.031-71.52-17.505-97.289-9.684-4.138 1.255-8.514-1.081-9.768-5.219a7.835 7.835 0 0 1 5.221-9.771c29.581-8.98 78.756-7.245 109.83 11.202a7.823 7.823 0 0 1 2.74 10.733c-2.2 3.722-7.02 4.949-10.73 2.739z",className:"jsx-2789539311"}))),n("home.login-button")))),c(a.a,{id:"2789539311"},[".lead.jsx-2789539311{margin-bottom:20px;font-size:16px;font-weight:200;line-height:1.4;}",".jumbotron.jsx-2789539311{padding:30px;margin-bottom:16px;font-size:21px;font-weight:200;line-height:2.1428571435;text-align:center;}","h1.jsx-2789539311{line-height:1;margin-top:20px;margin-bottom:10px;}","@media (min-width:768px){h1.jsx-2789539311{font-size:63px;}.lead.jsx-2789539311{font-size:21px;}.jumbotron.jsx-2789539311{padding:30px;margin-bottom:30px;}}",".jumbotron.jsx-2789539311 p.jsx-2789539311{line-height:1.4;}",".btn.jsx-2789539311{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.428571429;text-align:center;white-space:nowrap;vertical-align:middle;background-image:none;border:0;border-radius:4px;font-size:21px;padding:14px 24px;cursor:pointer;}",".btn-jumbotron.jsx-2789539311{font-size:21px;padding:14px 24px;line-height:1.33;border-radius:6px;}",".btn-success.jsx-2789539311{color:#fff;background-color:#3a833a;}",".btn-success.jsx-2789539311:hover{background-color:#327132;}"]))}},uu8g:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return m}));var r=n("Ji7U"),a=n("md7G"),s=n("foSv"),i=n("o0o1"),o=n.n(i),c=n("HaE+"),u=n("1OyB"),l=n("vuIU"),p=n("O7Jr");function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(s.a)(t);if(e){var i=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(a.a)(this,n)}}var d=function(){function t(){Object(u.a)(this,t)}return Object(l.a)(t,[{key:"removeDuplicates",value:function(){var t=Object(c.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw"Not implemented";case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getTracks",value:function(){var t=Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw"Not implemented";case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}],[{key:"findDuplicatedTracks",value:function(t){var e={},n={};return t.reduce((function(t,r,a){if(null===r)return t;if(null===r.id)return t;var s=!1,i="".concat(r.name,":").concat(r.artists[0].name).toLowerCase();return(r.id in e||i in n&&0!==n[i].filter((function(t){return Math.abs(t-r.duration_ms)<2e3})).length)&&(s=!0),s?t.push({index:a,track:r,reason:r.id in e?"same-id":"same-name-artist"}):(e[r.id]=!0,n[i]=n[i]||[],n[i].push(r.duration_ms)),t}),[])}}]),t}(),h=function(t){Object(r.a)(n,t);var e=f(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,null,[{key:"getTracks",value:function(){var t=Object(c.a)(o.a.mark((function t(e,n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var a=[];Object(p.a)(e,e.getGeneric(n.tracks.href)).then((function(t){return Promise.all(t)})).then((function(e){e.forEach((function(t){t.items.forEach((function(t){a.push(t&&t.track)}))})),t(a)})).catch(r)})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"removeDuplicates",value:function(){var t=Object(c.a)(o.a.mark((function t(e,n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){"starred"===n.playlist.id&&r("It is not possible to delete duplicates from your Starred playlist using this tool since this is not supported in the Spotify Web API. You will need to remove these manually."),n.playlist.collaborative?r("It is not possible to delete duplicates from a collaborative playlist using this tool since this is not supported in the Spotify Web API. You will need to remove these manually."):function(){var a=n.duplicates.map((function(t){return{uri:t.track.linked_from?t.track.linked_from.uri:t.track.uri,positions:[t.index]}})).reverse(),s=[];do{var i=a.splice(0,100);!function(t,e,n){s.push((function(){return n.removeTracksFromPlaylist(t.playlist.owner.id,t.playlist.id,e)}))}(n,i,e)}while(a.length>0);s.reduce((function(t,e){return t.then((function(){return e()}))}),Promise.resolve(null)).then((function(){n.duplicates=[],t()})).catch((function(t){r(t)}))}()})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),n}(d),m=function(t){Object(r.a)(n,t);var e=f(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,null,[{key:"getTracks",value:function(){var t=Object(c.a)(o.a.mark((function t(e,n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var a=[];Object(p.a)(e,n).then((function(t){return Promise.all(t)})).then((function(e){e.forEach((function(t){t.items.forEach((function(t){a.push(t.track)}))})),t(a)})).catch((function(t){console.error("There was an error fetching the tracks from playlist ".concat(n.href),t),r(t)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"removeDuplicates",value:function(){var t=Object(c.a)(o.a.mark((function t(e,n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var a=n.duplicates.map((function(t){return t.track.linked_from?t.track.linked_from.id:t.track.id}));do{Object(c.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.splice(0,50),t.next=3,e.removeFromMySavedTracks(n);case 3:case"end":return t.stop()}}),t)})))()}while(a.length>0);n.duplicates=[],t()})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),n}(d)},xSDt:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return E}));var r=n("o0o1"),a=n.n(r),s=n("HaE+"),i=n("1OyB"),o=n("vuIU"),c=n("JX7q"),u=n("Ji7U"),l=n("md7G"),p=n("foSv"),f=n("rePB"),d=n("q1tI"),h=n.n(d),m=n("8Kt/"),v=n.n(m),b=n("tXcZ"),y=n("aIN1"),g=n("teNT"),x=n("h1zM"),j=n("TVZH"),k=n("NpLB"),w=n("oeBT"),O=n("Bw4M"),N=n("zkrl"),T=n("9Koi"),I=n("k7Sn"),S=h.a.createElement;function P(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(p.a)(t);if(e){var a=Object(p.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var _=function(){var t=Object(T.a)(),e=t.t,n=t.i18n;return S(v.a,null,S("title",null,e("meta.title")),S("meta",{name:"og:title",content:e("meta.title")}),S("meta",{name:"twitter:title",content:e("meta.title")}),S("meta",{name:"description",content:e("meta.description")}),S("meta",{name:"og:description",content:e("meta.description")}),S("meta",{name:"twitter:description",content:e("meta.description")}),S("meta",{name:"viewport",content:"width=device-width"}),S("link",{rel:"canonical",href:"https://spotify-dedup.com/".concat("en"===n.language?"":n.language+"/")}),I.a.filter((function(t){return t!==n.language})).map((function(t){return S("link",{key:t,rel:"alternate",hrefLang:t,href:"en"===t?"https://spotify-dedup.com/":"https://spotify-dedup.com/".concat(t,"/")})})))},E=function(e){Object(u.a)(r,e);var n=P(r);function r(e){var o;return Object(i.a)(this,r),o=n.call(this,e),Object(f.a)(Object(c.a)(o),"state",{isLoggedIn:!1,user:null}),Object(f.a)(Object(c.a)(o),"api",null),Object(f.a)(Object(c.a)(o),"handleLoginClick",Object(s.a)(a.a.mark((function e(){var n,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.obtainToken({scopes:["playlist-read-private","playlist-read-collaborative","playlist-modify-public","playlist-modify-private","user-library-read","user-library-modify"]}).catch((function(t){console.error("There was an error obtaining the token",t)}));case 2:return n=e.sent,t.ga&&t.ga("send","event","spotify-dedup","user-logged-in"),t.fbq&&t.fbq("trackCustom","dedup-user-logged-in"),r.api=new N.a,r.api.setAccessToken(n),e.next=9,r.api.getMe();case 9:s=e.sent,o.setState({isLoggedIn:!0,user:s});case 11:case"end":return e.stop()}}),e)})))),o}return Object(o.a)(r,[{key:"render",value:function(){return S("div",{className:"container"},S(_,null),S(b.a,null),this.state.isLoggedIn?S(x.a,{api:r.api,user:this.state.user}):S(g.a,{onLoginClick:this.handleLoginClick}),this.state.isLoggedIn?null:[S(j.a,{key:0}),S(k.a,{key:1})],S(y.a,null),S(w.a,null))}}]),r}(h.a.Component)}).call(this,n("yLpj"))},zkrl:function(t,e,n){"use strict";n.d(e,"a",(function(){return N}));var r=n("o0o1"),a=n.n(r),s=n("HaE+"),i=n("1OyB"),o=n("vuIU"),c=n("rePB"),u=2e3,l=5e3,p=[],f=null;function d(t){return h.apply(this,arguments)}function h(){return(h=Object(s.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!1,t.prev=1,t.next=4,fetch(e.url,e.options);case 4:r=t.sent,r.status<400?e.resolve(r):(console.error("Got status "+r.status,e),--e.retries>0?n=!0:e.reject({message:"Too many retries",url:e.url,options:e.options})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),--e.retries>0?n=!0:e.reject({message:t.t0.message,url:e.url,options:e.options});case 12:n&&setTimeout((function(){d(e)}),u+Math.random()*(l-u));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}function m(){return v.apply(this,arguments)}function v(){return(v=Object(s.a)(a.a.mark((function t(){var e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:!f&&p.length>0&&(e=p.shift(),f=e,d(e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(){return(b=Object(s.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Promise((function(t,n){p.push({resolve:t,reject:n,url:e.url,options:e.options,retries:3})})),m(),n.then((function(){f=null,m()})),t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var y=function(t){return b.apply(this,arguments)},g="https://api.spotify.com/v1";function x(t,e){this.message=t,this.status=e,this.name="NetworkException"}function j(t,e){this.message="There was a Server Exception",this.json=t,this.status=e,this.name="ServerException"}function k(t,e){this.message="There was an Application Exception",this.json=t,this.status=e,this.name="ApplicationException"}function w(t,e){this.message="There was an Invalid JSON Exception",this.body=t,this.status=e,this.name="InvalidJSONException"}var O=function(t){return new Promise((function(e){return e(t.text())})).catch((function(e){throw new x(e.message,t.status)})).then((function(e){var n=null;try{n=""===e?null:JSON.parse(e)}catch(r){throw new w(e,t.status)}if(t.ok)return n;throw t.status>=500?new j(n,t.status):new k(n,t.status)}))},N=function(){function t(){Object(i.a)(this,t),Object(c.a)(this,"token",void 0),this.token=null}return Object(o.a)(t,[{key:"setAccessToken",value:function(t){this.token=t}},{key:"getMe",value:function(){var t=Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getGeneric("".concat(g,"/me"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getGeneric",value:function(){var t=Object(s.a)(a.a.mark((function t(e){var n,r,s,i=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r=0===Object.keys(n).length?"":"?".concat(Object.keys(n).map((function(t){return"".concat(t,"=").concat(n[t])})).join("&")),t.prev=2,t.next=5,y({url:"".concat(e).concat(r),options:{method:"GET",headers:{Authorization:"Bearer ".concat(this.token)}}});case 5:return s=t.sent,t.abrupt("return",O(s));case 9:return t.prev=9,t.t0=t.catch(2),console.error("e",t.t0),t.abrupt("return",Promise.reject(t.t0));case 13:case"end":return t.stop()}}),t,this,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getUserPlaylists",value:function(){var t=Object(s.a)(a.a.mark((function t(e,n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="string"===typeof e?"".concat(g,"/users/").concat(encodeURIComponent(e),"/playlists"):"".concat(g,"/me/playlists"),t.next=3,this.getGeneric(r,n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"removeTracksFromPlaylist",value:function(){var t=Object(s.a)(a.a.mark((function t(e,n,r){var s,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={tracks:r.map((function(t){return"string"===typeof t?{uri:t}:t}))},t.next=3,y({url:"".concat(g,"/users/").concat(encodeURIComponent(e),"/playlists/").concat(n,"/tracks"),options:{method:"DELETE",headers:{Authorization:"Bearer ".concat(this.token)},body:JSON.stringify(s)}});case 3:return i=t.sent,t.abrupt("return",O(i));case 5:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"getMySavedTracks",value:function(){var t=Object(s.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getGeneric("".concat(g,"/me/tracks"),e));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"removeFromMySavedTracks",value:function(){var t=Object(s.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y({url:"".concat(g,"/me/tracks"),options:{method:"DELETE",headers:{Authorization:"Bearer ".concat(this.token)},body:JSON.stringify(e)}});case 2:return n=t.sent,t.abrupt("return",O(n));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}()}}]);
//# sourceMappingURL=9162518ee998bb5faff3b8d2d90ab1fccb66ccc2.35895a72c64930f25d06.js.map